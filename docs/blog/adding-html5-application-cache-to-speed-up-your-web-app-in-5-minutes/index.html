<!DOCTYPE html><html lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" name="viewport" /><meta content="Adding HTML5 application cache to speed up your web app in 5 minutes - Tommy Ku&#39;s Method Stub - Random thoughts, stories and tutorials of a web dev" name="title" /><meta content="Web developer Tommy Ku talks about his experience in work, learning and life." name="description" /><meta content="Tommy Ku" name="author" /><meta content="Adding HTML5 application cache to speed up your web app in 5 minutes - Tommy Ku&#39;s Method Stub - Random thoughts, stories and tutorials of a web dev" property="og:title" /><meta content="article" property="og:type" /><title>Adding HTML5 application cache to speed up your web app in 5 minutes - Tommy Ku&#39;s Method Stub</title><link href="/style/gutenberg.css" rel="stylesheet" /><link href="/style/tomorrow-night-eighties.css" rel="stylesheet" /><meta content="Nanoc 4.3.7" name="generator" /></head><body><header><h2><img class="author" src="/assets/images/author.jpg" />Tommy Ku's Method Stub</h2><p><i>Reading and thinking</i></p></header><nav><a href="/">Index</a><a href="https://hp.tommyku.com">About Me</a><a href="https://angel.co/tommyku">AngelList</a><a href="https://hk.linkedin.com/in/tommy-ku-65aba999">LinkedIn</a></nav><main id="main"><section id="meta"><h1>Adding HTML5 application cache to speed up your web app in 5 minutes</h1><i>Written on 2015.03.16</i></section><section id="content">
<p>OK, let’s do this in 5 minutes to get you started with HTML5 app cache.</p>

<h3 id="seconds">10 seconds</h3>

<div style="text-align: center;">
<img src="./caniuse.png" title="application cache browser support chart">
<br>
<small><em>source:</em> <a href="http://caniuse.com/">http://caniuse.com/</a></small>
</div>

<p>Save yourself the trouble if you have to support IE6.</p>

<h3 id="seconds-1">30 seconds</h3>

<p>Make a branch so we can do whatever we want.</p>

<pre><code class="language-bash">git checkout -b 'html5-app-cache'
</code></pre>

<h3 id="minute">1 minute</h3>

<p>Your server has to serve the manifest file in <code>text/cache-manifest</code> MIME type. Look it up how to setup this if you are not using Apache.</p>

<pre><code class="language-bash">nano .htaccess
</code></pre>

<pre><code class="language-apache"># add the following line for serving offline cache manifest
AddType text/cache-manifest .manifest
</code></pre>

<h3 id="minutes">2 minutes</h3>

<p>Specific the path to manifest file in your web app.</p>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html manifest="/cache.manifest"&gt;
  &lt;head&gt;
&lt;!-- everything else --&gt;
</code></pre>

<h3 id="minutes-1">3 minutes</h3>

<pre><code class="language-bash">touch cache.manifest
</code></pre>

<p>Write up the manifest itself, inside <code>cache.manifest</code>:</p>

<pre><code>CACHE MANIFEST
</code></pre>

<p>Now fire up your app and it <em>will not</em> work. Be patient, we still have 2 minutes.</p>

<p>Tab <code>F12</code> to enter Chrome DevTools</p>

<div style="text-align: center;">
<img src="./copyandpaste.png" title="A quick way to know what we wanna cache">
<br>
<small><em>Img:</em> A quick way to know what we wanna cache</small>
</div>

<h3 id="minutes-2">4 minutes</h3>

<p>Copy and paste the paths to whatever files we are supposed to cache from DevTools console warnings.</p>

<pre><code>CACHE MANIFEST

CACHE:
/js/app.js
/js/angular/angular.min.js
/js/angular-resource/angular-resource.min.js
/js/angular-sanitize/angular-sanitize.min.js
/css/base.css
/css/animate.css

NETWORK:
*
</code></pre>

<p>Everything listed under <code>CACHE</code> will be cached, other stuff like Google fonts are loaded as usual.</p>

<h3 id="minutes-3">5 minutes</h3>

<p>Now we are done. It is always a good idea to cache your web app to optimize page load time. In particular, when your web app is an utility app intended to be usable offline. There are more to do with <code>cache.manifest</code> such as version-based caches, hooks to manifest loading… The references below explain better how those features work. So far, I only need to cache my Javascript and CSS files.</p>

<p>Why 5 minutes? That’s because I had to wait for this.</p>

<div style="text-align: center;">
<img src="./992692498_85526273c4_z.jpg" title="cup noodle time!">
<br>
<small><em>source:</em> <a href="https://www.flickr.com/photos/oddharmonic/992692498/in/photostream/">Flickr</a></small>
</div>

<h3 id="references">References</h3>

<ol>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache">Using the application cache - HTML (HyperText Markup Language) | MDN</a></li>
  <li><a href="http://www.html5rocks.com/en/tutorials/appcache/beginner/">A Beginner’s Guide to Using the Application Cache - HTML5 Rocks</a></li>
</ol>
</section></main><script src="/js/highlight.pack.js" type="text/javascript"></script><script>(function() {
  hljs.initHighlightingOnLoad();

}).call(this);
</script><div id="disqus_thread"></div><script>var disqus_config = function () {
  this.page.url = "https://blog.tommyku.com/blog/adding-html5-application-cache-to-speed-up-your-web-app-in-5-minutes/";
  this.page.identifier = "adding-html5-application-cache-to-speed-up-your-web-app-in-5-minutes";
};

(function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = '//methodstub.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();</script><noscript>Please enable JavaScript to view the <a ,="" href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47055557-3', 'auto');
ga('send', 'pageview');</script></body></html>