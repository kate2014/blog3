<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0" name="viewport" /><meta content="Create simple contact list application with Laravel and Openshift integration: Part 1 - Tommy Ku&#39;s Method Stub - Random thoughts, stories and tutorials of a web dev" name="title" /><meta content="Web developer Tommy Ku talks about his experience in work, learning and life." name="description" /><meta content="Tommy Ku" name="author" /><meta content="Create simple contact list application with Laravel and Openshift integration: Part 1 - Tommy Ku&#39;s Method Stub - Random thoughts, stories and tutorials of a web dev" property="og:title" /><meta content="article" property="og:type" /><link href="/atom.xml" rel="alternate" title="Tommy Ku&#39;s Method Stub" type="application/atom+xml" /><title>Create simple contact list application with Laravel and Openshift integration: Part 1 - Tommy Ku&#39;s Method Stub</title><link href="/style/gutenberg.css" rel="stylesheet" /><link href="/style/tomorrow-night-eighties.css" rel="stylesheet" /><meta content="Nanoc 4.8.0" name="generator" /></head><body><header><h2><img alt="Profile pic of Tommy Ku" class="author" src="/assets/images/author.jpg" />Tommy Ku's Method Stub</h2><p><i>Reading and thinking</i></p></header><nav><a href="/">Index</a><a href="https://tommyku.com">About Me</a><a href="https://angel.co/tommyku">AngelList</a><a href="https://www.linkedin.com/in/tommy-chun-kit-ku-65aba999">LinkedIn</a><a href="https://github.com/tommyku">GitHub</a><a href="/atom.xml">Atom Feed</a></nav><main id="main"><section id="meta"><h1>Create simple contact list application with Laravel and Openshift integration: Part 1</h1><i>Posted on August 01, 2014</i></section><section id="content">
<p><strong>This is the part 1 of a 2-part tutorial about jump-starting a Laravel project on Openshift. <a href="../create-simple-contact-list-application-with-laravel-and-openshift-integration-part-2">go to part2</a></strong></p>

<p>Laravel is a PHP web development framework providing nice and easy routing, convenient Blade templating, Artisan CLI for better project management and easy build powered by Composer.</p>

<p>In part 1, I will go through the steps of setting up a running Laravel on Openshift, which takes some effort to figure it out if you have never used Laravel and Composer before. In part 2, we will go deeper into creating a contact list application running on Openshift.</p>

<h4 id="show-me-the-steps">Show me the steps</h4>

<ol>
  <li>
    <p>Deploying Laravel 4.1 with PHP 5.4 and MySQL 5.5</p>

    <p><small>If you use RHC cli</small>
~~~ php
rhc create app laravel php-5.4
rhc cartridge add mysql-5.5 -a laravel
~~~</p>

    <p><small>If you use web console</small></p>

    <p>Choose <code>Laravel 4.1 Quickstart</code> when creating new application.</p>
  </li>
  <li>
    <p>Pull the repository into local environment by running <code>git clone {address to the repo}</code></p>
  </li>
  <li>
    <p>Get <a href="https://getcomposer.org/">Composer</a> (if you have not had one), you can simply download the <code>composer.phar</code> if you do not want to install it.</p>
  </li>
  <li>
    <p>In console locate the repo folder, if you had done the global install run <code>composer install</code>, otherwise <code>php composer.phar install</code>. You will see <code>/vendor</code> folder being created with the autoload script inside.</p>
  </li>
  <li>
    <p>If you encounter an error like <code>Script php artisan clear-compiled handling the post-install-cmd event return an error</code>, try to ensure your PHP build has mcrypt installed.</p>
  </li>
</ol>

<p>After having done the 4 steps above, Composer would have downloaded the necessary dependencies and you should already have had Laravel setup and able to run locally. Go to <code>http://localhost/{path-to-Laravel-app}/public/index.php</code></p>

<figure>
<img src="./screenshot.jpg">
<figcaption>Finally!</figcaption>
</figure>

<p>However to run a production build we could do something more. These actions are perfectly optional but in part 2 you are assumpted to have done them.</p>

<p>Switch off debug mode. In <code>app/config/app.php</code> set the <code>debug</code> attribute to false. You can view the error log in <code>app/storage/logs/laravel.log</code>.</p>

<p>Set the URL to your app in <code>app/config/app.php</code>.</p>

<p>Relocate the public path out of <code>/public</code>. Copy every inside <code>/public</code> to repo root, then move everything else inside a new folder <code>/Laravel</code>.</p>

<p>You will have to modify <code>/Laravel/bootstrap/paths.php</code></p>

<pre><code class="language-php">'public' =&gt; __DIR__.'/../..',
</code></pre>

<p>Also <code>/index.php</code></p>

<pre><code class="language-php">require __DIR__.'/Laravel/bootstrap/autoload.php';
$app = require_once __DIR__.'/Laravel/bootstrap/start.php';
</code></pre>

<p>Modify the build hook to run Composer while publishing the source to Openshift.</p>

<p>In <code>/.openshift/action_hooks/build</code> remove the hash to uncomment the line</p>

<pre><code class="language-bash">#( echo 'Installing/Updating Laravel'; unset GIT_DIR ; cd $OPENSHIFT_REPO_DIR/Laravel ; php $OPENSHIFT_DATA_DIR/composer.phar -q --no-ansi install )
</code></pre>

<p>Generate optimized class loader with <code>php artisan optimize</code></p>

<h4 id="whats-next">What’s next?</h4>

<p>For the basics of Laravel you should consult <a href="http://laravel.com/docs">the documentation</a>. Chinese version is also avaliable <a href="http://kejyun.github.io/Laravel-4-Documentation-Traditional-Chinese/docs/introduction/">here</a>.</p>

<p>Briefly speaking, to show the “hello world” page you saw above, you need to set a route, and implement the controller handling the request.</p>

<p>In <code>/Laravel/app/routes.php</code></p>

<pre><code class="language-php">Route::get('/', function()
{
  return View::make('hello');
});
</code></pre>

<p>The controller is the function passed into <code>Route::get</code>, which define a path and its request handler. It simply render the template located at <code>/Laravel/app/views/hello.php</code></p>

<p>You may define more routes like:</p>

<pre><code class="language-php">Route::get('/hello', "HomeController@hello");
</code></pre>

<p>Here HomeController@hello means the request handler is the <code>hello()</code> method defined in <code>/Laravel/app/controllers/HomeController.php</code> which is implemented as</p>

<pre><code class="language-php">public function hello()
{
  return "hello";
}
</code></pre>

<p>Go to <code>http://localhost/{path-to-Laravel-app}/hello</code> to see the effect.</p>

<h4 id="part-2">Part 2</h4>

<p>In part 1 we have a proper Laravel framework set up to start building the awesome contact list. In the forthcoming part 2 we will actually get into the details of building a frontend with HTML/CSS/AngularJS and the backend interacting with MySQL.</p>

<p><a href="../create-simple-contact-list-application-with-laravel-and-openshift-integration-part-2">go to part 2</a></p>

<p><br></p>

<h4 id="reference">Reference</h4>

<ol>
  <li><a href="https://www.openshift.com/quickstarts/laravel-41-quickstart">Laravel 4.1 Quickstart | OpenShift by Red Hat</a></li>
  <li><a href="http://laravel.com/docs">Laravel - The PHP Framework For Web Artisans.</a></li>
  <li><a href="http://kejyun.github.io/Laravel-4-Documentation-Traditional-Chinese/docs/introduction/">Laravel 4 PHP Framework Documentation 繁體中文教學文件</a></li>
</ol>
</section></main><script src="/js/highlight.pack.js" type="text/javascript"></script><script>(function() {
  hljs.initHighlightingOnLoad();

}).call(this);
</script><div id="disqus_thread"></div><script>var disqus_config = function () {
  this.page.url = "https://blog.tommyku.com/blog/create-simple-contact-list-application-with-laravel-and-openshift-integration-part-1/";
  this.page.identifier = "create-simple-contact-list-application-with-laravel-and-openshift-integration-part-2";
};

(function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = '//methodstub.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();</script><noscript>Please enable JavaScript to view the <a ,="" href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47055557-3', 'auto');
ga('send', 'pageview');</script></body></html>