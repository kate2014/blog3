<!DOCTYPE html><html lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" name="viewport" /><meta content="Building reusable things, FTW - Tommy Ku&#39;s Method Stub - Random thoughts, stories and tutorials of a web dev" name="title" /><meta content="Web developer Tommy Ku talks about his experience in work, learning and life." name="description" /><meta content="Tommy Ku" name="author" /><meta content="Building reusable things, FTW - Tommy Ku&#39;s Method Stub - Random thoughts, stories and tutorials of a web dev" property="og:title" /><meta content="article" property="og:type" /><title>Building reusable things, FTW - Tommy Ku&#39;s Method Stub</title><link href="/style/gutenberg.css" rel="stylesheet" /><link href="/style/tomorrow-night-eighties.css" rel="stylesheet" /><meta content="Nanoc 4.5.2" name="generator" /></head><body><header><h2><img class="author" src="/assets/images/author.jpg" />Tommy Ku's Method Stub</h2><p><i>Reading and thinking</i></p></header><nav><a href="/">Index</a><a href="https://hp.tommyku.com">About Me</a><a href="https://angel.co/tommyku">AngelList</a><a href="https://hk.linkedin.com/in/tommy-ku-65aba999">LinkedIn</a><a href="https://github.com/tommyku">GitHub</a></nav><main id="main"><section id="meta"><h1>Building reusable things, FTW</h1><i>Posted on 2015.03.23</i></section><section id="content">
<p>I was working on an API wrapper for HKUST library room reservation system for my COMP4971F Independent Work. The nasty way I usually did was to hack the application out of a fresh Laravel build by putting all the parsing, booking and strange work-arounds inside the controllers. This time, I decided to build a composer package <code>tommyku/liba_lib</code> (<a href="https://github.com/tommyku/liba_lib">github</a>) instead.</p>

<p>We have spent way too much time re-inventing the wheel for the web, only that they look slightly different from another. Popular front-end frameworks, toolkits and CMS/templates such as AngularJS, normalize.css and Wordpress did make people re-invent lesser of the wheel. Still, some reusable parts are mingled with the logics which may encourage reuse by copying instead of nice encapsulation.</p>

<blockquote>
  <p>Whenever something is reusable, separate them from the constants of your program.</p>
</blockquote>

<p>By constants I mean tailored codes that probably cannot be used elsewhere; while by reusable I mean methods or structures that may be plugged into another controller/app and still work fine by itself.</p>

<p>My object-oriented class instructor Dekai once deducted me some 30% of my assignment score just because I put an inline function into one .cpp, while that function was called by two supposingly independent classes. Encapsulation and date hiding was strictly enforced for the remainder of the course.</p>

<p>Looking back, I see the reason behind. Components with good encapsulation communicates with other parts of the program solely by an interface that has been designed and communicated to the other team members. This makes it reusable by default because it doesn’t depend on other components unless specified. You can grab the class/library and use it almost anywhere. Unit tests are simple by default because you will be just dealing with a set of function calls as defined by the class interface.</p>

<blockquote>
  <p>Encapsulated classes are reusable by default, and performing on a single class unit test much is less painful than a single class within a pool of other logics.</p>
</blockquote>

<p>Encapsulation is good, things are reusable. Are we done yet?</p>

<p>Let’s dig deeper. Why is it better making some sets of functions a composer package instead ofusing a simple separate .php? The same 2 reasons: testing with convenience and code reusability.</p>

<h4 id="being-smart-on-unit-testing">Being smart on unit testing</h4>

<p>If you navigate to <a href="https://github.com/tommyku/liba_lib">liba_lib</a> you will see there is a <code>tests/</code> folder containing test cases which I use for phpunit tests. Unit test is made convenient this way because I can test directly the core library functionalities without having to call Laravel route and invoke many other logics that I don’t intend to test. Feel free to clone the repo and run <code>make test-all</code> to test it, given that you have a ITSC account to access the library system.</p>

<blockquote>
  <p>You can test the core functionalities of your library without invoking other logics you don’t intent to test.</p>
</blockquote>

<h4 id="automatically-reusable">Automatically reusable</h4>

<p>In case you want to use my library to build your app, it is super easy. My code have been detailedly documented for better maintainability. To include it in your application, you will need to have these in your <code>composer.json</code></p>

<pre><code class="language-json">{
    "repositories": [
        {
            "type": "vcs",
            "url": "https://github.com/tommyku/liba_lib"
        }
    ],
    "require": {
        "tommyku/liba_lib": "dev-master"
    }
}
</code></pre>

<p>Then, <code>composer install</code> as usual.</p>

<blockquote>
  <p>You should really let your fellow devs use your awesome library.</p>
</blockquote>

<p>My project title is <em>Multi-device web applications suite for API-less online services</em> where I try to wrap around nasty web services which are not enthusiastic in opening up API for other developers to use their web services. It doesn’t make sense if I do the same thing as the evil I am fighting does, do it? Good code (not that mine are good, but ya know in general…) and services should be opened up for others to use. When others use your library, you won’t know how if -</p>

<blockquote>
  <p>The whole is greater than the sum of its parts. - Aristotle</p>
</blockquote>
</section></main><script src="/js/highlight.pack.js" type="text/javascript"></script><script>(function() {
  hljs.initHighlightingOnLoad();

}).call(this);
</script><div id="disqus_thread"></div><script>var disqus_config = function () {
  this.page.url = "https://blog.tommyku.com/blog/building-reusable-things-ftw/";
  this.page.identifier = "building-reusable-things-ftw";
};

(function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = '//methodstub.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();</script><noscript>Please enable JavaScript to view the <a ,="" href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47055557-3', 'auto');
ga('send', 'pageview');</script></body></html>